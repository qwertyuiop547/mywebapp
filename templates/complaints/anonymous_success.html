{% extends 'base.html' %}
{% load static %}

{% block title %}Anonymous Complaint Submitted - Barangay Burgos{% endblock %}

{% block extra_css %}
<style>
    body {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    .success-container {
        max-width: 800px;
        margin: 50px auto;
        padding: 30px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        text-align: center;
    }
    
    .success-icon {
        font-size: 4rem;
        color: #28a745;
        margin-bottom: 20px;
        animation: checkmark 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
    
    @keyframes checkmark {
        0% { transform: scale(0); }
        100% { transform: scale(1); }
    }
    
    .complaint-id {
        font-size: 2rem;
        color: #2c3e50;
        font-weight: bold;
        margin: 20px 0;
        padding: 15px;
        background: #f8f9fa;
        border: 2px dashed #dee2e6;
        border-radius: 10px;
        display: inline-block;
    }
    
    .info-card {
        background: #e3f2fd;
        border-left: 4px solid #2196f3;
        padding: 20px;
        margin: 20px 0;
        border-radius: 0 8px 8px 0;
        text-align: left;
    }
    
    .btn-back {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        border: none;
        color: white;
        padding: 12px 30px;
        border-radius: 8px;
        font-weight: 500;
        text-decoration: none;
        display: inline-block;
        margin-top: 20px;
        transition: all 0.3s ease;
    }
    
    .btn-back:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        color: white;
        text-decoration: none;
    }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid px-4">
    <div class="success-container">
        <div class="success-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        
        <h1 class="text-success mb-3">Anonymous Complaint Submitted Successfully!</h1>
        
        <p class="lead text-muted mb-4">Your complaint has been received and will be reviewed by the appropriate barangay officials.</p>
        
        <div class="complaint-id">
            <i class="fas fa-hashtag me-2"></i>
            Complaint ID: {{ complaint.id }}
        </div>
        
        <div class="info-card">
            <h5><i class="fas fa-info-circle me-2"></i>Important Information</h5>
            <ul class="mb-0">
                <li><strong>Your Identity:</strong> Your complaint has been submitted anonymously. Your personal information will not be disclosed.</li>
                <li><strong>Reference Number:</strong> Please keep your complaint ID <strong>#{{ complaint.id }}</strong> for future reference.</li>
                {% if complaint.anonymous_contact %}
                <li><strong>Status Updates:</strong> We will send updates to {{ complaint.anonymous_contact }} as your complaint is processed.</li>
                {% else %}
                <li><strong>Status Updates:</strong> Since you didn't provide an email, please check back using your complaint ID for updates.</li>
                {% endif %}
                <li><strong>Processing Time:</strong> Your complaint will be reviewed and assigned to the appropriate official within 24-48 hours.</li>
                <li><strong>Privacy:</strong> All anonymous complaints are handled with strict confidentiality.</li>
            </ul>
        </div>
        
        <div class="complaint-summary p-3 bg-light rounded mt-4">
            <h6 class="text-primary"><i class="fas fa-file-alt me-2"></i>Your Complaint Summary</h6>
            <div class="row text-start">
                <div class="col-md-6">
                    <strong>Category:</strong> {{ complaint.category.name }}<br>
                    <strong>Priority:</strong> 
                    <span class="badge {% if complaint.priority == 'emergency' %}bg-danger{% elif complaint.priority == 'high' %}bg-warning{% else %}bg-secondary{% endif %}">
                        {{ complaint.get_priority_display }}
                    </span>
                </div>
                <div class="col-md-6">
                    <strong>Date Submitted:</strong> {{ complaint.created_at|date:"M d, Y - g:i A" }}<br>
                    {% if complaint.location %}
                    <strong>Location:</strong> {{ complaint.location }}
                    {% endif %}
                </div>
            </div>
            <div class="mt-3">
                <strong>Title:</strong> {{ complaint.title }}
            </div>
        </div>
        
        <div class="alert alert-info mt-4" role="alert">
            <i class="fas fa-shield-alt me-2"></i>
            <strong>Your Privacy is Protected:</strong> This complaint was submitted anonymously. 
            Barangay officials will handle your concern without knowing your identity unless you choose to reveal it later.
        </div>
        
        <a href="{% url 'home' %}" class="btn-back">
            <i class="fas fa-home me-2"></i>Return to Home Page
        </a>
        
        <div class="mt-4 text-muted small">
            <p><strong>What happens next?</strong></p>
            <p>1. Your complaint will be reviewed by the Barangay Secretary<br>
               2. If approved, it will be assigned to the appropriate official<br>
               3. The official will work to resolve your concern<br>
               4. You will receive status updates (if email provided)</p>
        </div>
    </div>
</div>
{% endblock %}
